{"ast":null,"code":"var _jsxFileName = \"/Users/Zhus/Desktop/DOANTOTNGHIEP/DATN/frontend/src/components/CheckoutBody.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { UserContext } from '../contexts/User';\nimport '../Styles/BannerV4.css';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport socketIOClient from \"socket.io-client\";\nimport { ZaloPay } from './ZaloPay/zalopay';\nimport QRCode from 'qrcode.react';\nimport { APIs } from './ZaloPay/common';\nimport $ from 'jquery';\nconst ENDPOINT = \"http://localhost:4000\";\n\nfunction CheckoutBody(props) {\n  const [tinh, setTinh] = useState([]);\n  const [huyen, setHuyen] = useState([]);\n  const {\n    userInfo\n  } = useContext(UserContext);\n  const socket = socketIOClient(ENDPOINT);\n  const [nameInput, setNameInput] = useState(\"\");\n  const [_id, set_Id] = useState(\"\");\n  const [userAvt, setUserAvt] = useState(\"\");\n  const [emailInput, setEmailInput] = useState(\"\");\n  const [phoneInput, setPhoneInput] = useState(\"\");\n  const [provinceId, setProvinceId] = useState(\"\");\n  const [userTinh, setUserTinh] = useState(null);\n  const [userHuyen, setUserHuyen] = useState(null);\n  const [addressInput, setAddressInput] = useState(null);\n  const [cartList, setCartList] = useState([]);\n  const subTotal = localStorage.getItem('total');\n  const [shipping, setShipping] = useState(0);\n  const total = Number(subTotal) + Number(shipping);\n  const [confirm, setConfirm] = useState(false);\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\n  const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\");\n  const [isShowQR, setIsShowQR] = useState(false);\n  const [qrValue, setQRValue] = useState(\"\");\n  const [isPaid, setIsPaid] = useState(false);\n  useEffect(() => {\n    if (userInfo) {\n      setUserAvt(userInfo.userAvt);\n      set_Id(userInfo._id);\n      setNameInput(userInfo.userName);\n      setEmailInput(userInfo.userEmail);\n      setPhoneInput(userInfo.userPhone);\n      setAddressInput(userInfo.userAddress);\n\n      if (userInfo.userTinh !== \"\") {\n        axios.get(`http://localhost:4000/vietnam`).then(res => {\n          setTinh(res.data[0].tinh);\n          setHuyen(res.data[0].huyen);\n          res.data[0].tinh.filter(item => {\n            if (userInfo.userTinh === item.name) {\n              setProvinceId(item.id);\n            }\n\n            return null;\n          });\n        });\n        setUserTinh(userInfo.userTinh);\n      } else {\n        axios.get(`http://localhost:4000/vietnam`).then(res => {\n          setTinh(res.data[0].tinh);\n          setHuyen(res.data[0].huyen);\n        });\n      }\n\n      if (userInfo.userHuyen !== \"\") {\n        setUserHuyen(userInfo.userHuyen);\n      }\n    }\n\n    setCartList(JSON.parse(localStorage.getItem('cart')));\n  }, [userInfo]);\n  const [methodPayment, setMethodPayMent] = useState(0);\n\n  const checkedPayMent = event => {\n    setMethodPayMent(Number(event.target.id));\n  };\n\n  const showQR = text => {\n    setIsShowQR(true);\n    setQRValue(text);\n  };\n\n  const placeAnOrder = () => {\n    let orderPaymentMethod2 = \"\";\n\n    if (methodPayment === 1) {\n      orderPaymentMethod2 = \"cash on delivery\";\n    } else if (methodPayment === 2) {\n      orderPaymentMethod2 = \"zalopay\";\n    } else {\n      orderPaymentMethod2 = \"\";\n    }\n\n    var cartId = [];\n\n    for (let i in cartList) {\n      cartId.push({\n        id: cartList[i]._id,\n        amount: cartList[i].count\n      });\n    }\n\n    const data = {\n      orderName: nameInput,\n      orderAvatar: userAvt,\n      orderEmail: emailInput,\n      orderPhone: phoneInput,\n      orderAddress: addressInput,\n      orderTinh: userTinh,\n      orderHuyen: userHuyen,\n      orderList: cartId,\n      orderTotal: total,\n      orderPaymentMethod: orderPaymentMethod2,\n      orderDate: new Date()\n    };\n\n    if (orderPaymentMethod2 === \"\") {\n      alert(\"Fill in all infomation please\");\n    } else if (orderPaymentMethod2 === \"zalopay\") {\n      if (isPaid === false) {\n        alert(\"Your payment not yet confirmed!\");\n        return;\n      } else {\n        axios.post('http://localhost:4000/order', data);\n        setTimeout(() => {\n          setConfirm(true);\n          document.body.style.overflow = 'hidden';\n          window.scrollTo(0, 0);\n          socket.emit('placeAnOrder', data);\n        }, 1000);\n      }\n    } else {\n      axios.post('http://localhost:4000/order', data);\n      setTimeout(() => {\n        setConfirm(true);\n        document.body.style.overflow = 'hidden';\n        window.scrollTo(0, 0);\n        socket.emit('placeAnOrder', data);\n      }, 1000);\n    }\n\n    setOrderPaymentMethod(orderPaymentMethod2);\n    let addressStr = addressInput + ', ' + userTinh + ', ' + userHuyen;\n    setOrderAddressConfirm(addressStr);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CheckoutBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, confirm && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail confirmPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '18px',\n      color: 'green',\n      marginBottom: '30px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, \"Thank you. Your order has been received.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"Order details\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list comfirm-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, cartList && cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '300px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 49\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 53\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 49\n      }\n    }, (item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 37\n    }\n  }), subTotal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 33\n    }\n  }, \"ADDRESS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 84\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right orderAddressConfirm\",\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 37\n    }\n  }, orderAddressConfirm, \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }, \"SHIPPING FEE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 37\n    }\n  }, shipping, \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 33\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 37\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-confirm-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 33\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price billing-confirm-right\",\n    style: {\n      textTransform: 'capitalize'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 37\n    }\n  }, orderPaymentMethod))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-btn btn\",\n    style: {\n      marginTop: '30px',\n      marginBottom: '30px'\n    },\n    onClick: () => {\n      document.body.style.overflow = 'unset';\n      localStorage.removeItem('total');\n      localStorage.removeItem('cart');\n      props.history.push(\"/shop\");\n      window.location.reload(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 29\n    }\n  }, \"CONFIRM\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, \"Billing details\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"billing-detail-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 33\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"name\",\n    value: nameInput,\n    onChange: event => {\n      setNameInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 33\n    }\n  }, \"Phone number\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: phoneInput,\n    onChange: event => {\n      setPhoneInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 33\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"phone\",\n    value: emailInput,\n    onChange: event => {\n      setEmailInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 33\n    }\n  }, \"Province\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userTinh || '',\n    onChange: event => {\n      setProvinceId(event.target.selectedIndex);\n      setUserTinh(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 41\n    }\n  }, \"select a province\"), tinh.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      value: item.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 49\n      }\n    }, item.name);\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 33\n    }\n  }, \"District\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"input\",\n    value: userHuyen || '',\n    onChange: event => {\n      setUserHuyen(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    disabled: true,\n    defaultValue: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 41\n    }\n  }, \"select a district\"), huyen.map((item, index) => {\n    if (item.tinh_id === provinceId) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        value: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 53\n        }\n      }, item.name);\n    }\n\n    return null;\n  })))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 33\n    }\n  }, \"Address\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input\",\n    name: \"address\",\n    value: addressInput || '',\n    onChange: event => {\n      setAddressInput(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 37\n    }\n  }))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }\n  }, \"Your order\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 21\n    }\n  }, cartList && cartList.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"billing-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.productImg[0],\n      alt: \"\",\n      width: \"60px\",\n      height: \"60px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-mobile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 45\n      }\n    }, item.productName), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 49\n      }\n    }, \"x\"), item.count), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"billing-detail-price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 45\n      }\n    }, (item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\")));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 29\n    }\n  }, \"SUBTOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 33\n    }\n  }), subTotal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 37\n    }\n  }, subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    style: {\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 29\n    }\n  }, \"SHIPPING\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-shipping\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setShipping(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 37\n    }\n  }, \"FREESHIP - 0\\u0111\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"30000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 37\n    }\n  }, \"FAST SHIPPING - 30000\\u0111\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-item flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '60px',\n      height: '60px',\n      lineHeight: '60px',\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 29\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-count\",\n    style: {\n      color: '#111'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 33\n    }\n  }, (Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\"), \" \\u0111\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 29\n    }\n  }, \"PAYMENT METHOD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"billing-detail-mobile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-method-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: \"flex payment-method-item\",\n    onClick: event => {\n      checkedPayMent(event);\n      setIsShowQR(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"1\",\n    className: methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 45\n    }\n  }, \"CASH ON DELIVERY\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: \"flex payment-method-item\",\n    onClick: event => {\n      checkedPayMent(event);\n      const description = `Thanh toan don hang #${_id}`;\n      let order = {\n        description: description,\n        amount: total\n      };\n      ZaloPay.qr(order, res => {\n        showQR(res.orderurl);\n        const check = setInterval(() => {\n          $.getJSON(APIs.GETORDERSTATUS + '?morderid=' + res.apptransid).done(res => {\n            if (res.returncode === 1) {\n              setIsPaid(true);\n              clearInterval(check);\n            }\n          });\n        }, 1000);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"2\",\n    className: methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 41\n    }\n  }, \"ZALOPAY\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: isShowQR ? \"qr-box flex-col\" : \"d-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-code-box flex-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(QRCode, {\n    value: qrValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 33\n    }\n  })), !isPaid && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-status\",\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 33\n    }\n  }, \"\\u0110ang ch\\u1EDD thanh to\\xE1n...\"), isPaid && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 33\n    }\n  }, \"Thanh to\\xE1n th\\xE0nh c\\xF4ng!\"), !isPaid && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-help\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"qr-help-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 37\n    }\n  }, \"H\\u01B0\\u1EDBng d\\u1EABn thanh to\\xE1n\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"qr-help-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 45\n    }\n  }, \"B\\u01B0\\u1EDBc 1:\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 65\n    }\n  }, \" M\\u1EDF\"), \" \\u1EE9ng d\\u1EE5ng \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 95\n    }\n  }, \"ZaloPay\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 45\n    }\n  }, \"B\\u01B0\\u1EDBc 2:\"), \" Ch\\u1ECDn \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 71\n    }\n  }, \"\\\"Thanh To\\xE1n\\\"\"), \" v\\xE0 qu\\xE9t m\\xE3 QR\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 45\n    }\n  }, \"B\\u01B0\\u1EDBc 3:\"), \" \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 66\n    }\n  }, \" X\\xE1c nh\\u1EADn thanh to\\xE1n\"), \" \\u1EDF trong \\u1EE9ng d\\u1EE5ng\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-btn btn\",\n    onClick: placeAnOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 25\n    }\n  }, \"PLACE AN ORDER\")))));\n}\n\nexport default withRouter(CheckoutBody);","map":{"version":3,"sources":["/Users/Zhus/Desktop/DOANTOTNGHIEP/DATN/frontend/src/components/CheckoutBody.js"],"names":["React","useContext","useEffect","useState","UserContext","axios","withRouter","socketIOClient","ZaloPay","QRCode","APIs","$","ENDPOINT","CheckoutBody","props","tinh","setTinh","huyen","setHuyen","userInfo","socket","nameInput","setNameInput","_id","set_Id","userAvt","setUserAvt","emailInput","setEmailInput","phoneInput","setPhoneInput","provinceId","setProvinceId","userTinh","setUserTinh","userHuyen","setUserHuyen","addressInput","setAddressInput","cartList","setCartList","subTotal","localStorage","getItem","shipping","setShipping","total","Number","confirm","setConfirm","orderPaymentMethod","setOrderPaymentMethod","orderAddressConfirm","setOrderAddressConfirm","isShowQR","setIsShowQR","qrValue","setQRValue","isPaid","setIsPaid","userName","userEmail","userPhone","userAddress","get","then","res","data","filter","item","name","id","JSON","parse","methodPayment","setMethodPayMent","checkedPayMent","event","target","showQR","text","placeAnOrder","orderPaymentMethod2","cartId","i","push","amount","count","orderName","orderAvatar","orderEmail","orderPhone","orderAddress","orderTinh","orderHuyen","orderList","orderTotal","orderDate","Date","alert","post","setTimeout","document","body","style","overflow","window","scrollTo","emit","addressStr","fontSize","color","marginBottom","map","index","width","productImg","productName","productFinalPrice","toString","replace","justifyContent","textTransform","marginTop","removeItem","history","location","reload","value","selectedIndex","tinh_id","height","lineHeight","description","order","qr","orderurl","check","setInterval","getJSON","GETORDERSTATUS","apptransid","done","returncode","clearInterval"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { UserContext } from '../contexts/User';\nimport '../Styles/BannerV4.css'\nimport axios from 'axios'\nimport {\n    withRouter\n} from 'react-router-dom'\nimport socketIOClient from \"socket.io-client\"\nimport { ZaloPay } from './ZaloPay/zalopay';\nimport QRCode from 'qrcode.react'\nimport { APIs } from './ZaloPay/common';\nimport $ from 'jquery';  \n\nconst ENDPOINT = \"http://localhost:4000\";\n\nfunction CheckoutBody(props) {\n    \n    const [tinh, setTinh] = useState([])\n    const [huyen, setHuyen] = useState([])\n    const { \n        userInfo\n    } = useContext(UserContext);\n    const socket = socketIOClient(ENDPOINT)\n\n    const [nameInput, setNameInput] = useState(\"\")\n    const [_id, set_Id] = useState(\"\")\n    const [userAvt, setUserAvt] = useState(\"\")\n    const [emailInput, setEmailInput] = useState(\"\")\n    const [phoneInput, setPhoneInput] = useState(\"\")\n    const [provinceId, setProvinceId] = useState(\"\")\n    const [userTinh, setUserTinh] = useState(null)\n    const [userHuyen, setUserHuyen] = useState(null)\n    const [addressInput, setAddressInput] = useState(null)\n    const [cartList, setCartList] = useState([])\n    const subTotal = localStorage.getItem('total')\n    const [shipping, setShipping] = useState(0)\n    const total = Number(subTotal) + Number(shipping)\n    const [confirm, setConfirm] = useState(false)\n    const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\")\n    const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\")\n    const [isShowQR, setIsShowQR] = useState(false)\n    const [qrValue, setQRValue] = useState(\"\")\n    const [isPaid, setIsPaid] = useState(false) \n\n    useEffect(()=>{\n        if (userInfo) {\n            setUserAvt(userInfo.userAvt)\n            set_Id(userInfo._id)\n            setNameInput(userInfo.userName)\n            setEmailInput(userInfo.userEmail)\n            setPhoneInput(userInfo.userPhone)\n            setAddressInput(userInfo.userAddress)\n            if (userInfo.userTinh !== \"\") {\n                axios.get(`http://localhost:4000/vietnam`)\n                    .then(res => {\n                        setTinh(res.data[0].tinh)\n                        setHuyen(res.data[0].huyen)\n                        res.data[0].tinh.filter((item)=>{ \n                            if (userInfo.userTinh === item.name) {\n                                setProvinceId(item.id)\n                            }\n                            return null\n                        })\n                    }\n                )  \n                setUserTinh(userInfo.userTinh)\n            } else {\n                axios.get(`http://localhost:4000/vietnam`)\n                    .then(res => {\n                        setTinh(res.data[0].tinh)\n                        setHuyen(res.data[0].huyen) \n                    }\n                )   \n            }\n            if (userInfo.userHuyen !== \"\") {\n                setUserHuyen(userInfo.userHuyen)\n            }\n        }\n        setCartList((JSON.parse(localStorage.getItem('cart'))))\n    },[userInfo])  \n\n    const [methodPayment, setMethodPayMent] = useState(0)\n\n    const checkedPayMent = (event) => {\n        setMethodPayMent(Number(event.target.id))\n    } \n\n    const showQR = (text) => {\n        setIsShowQR(true) \n        setQRValue(text)\n    } \n\n    const placeAnOrder = () => {\n        let orderPaymentMethod2 = \"\";\n        if (methodPayment === 1) {\n            orderPaymentMethod2 = \"cash on delivery\"\n        } else if (methodPayment === 2) {\n            orderPaymentMethod2 = \"zalopay\"\n        } else {\n            orderPaymentMethod2 = \"\"\n        }\n        var cartId = []\n        for (let i in cartList) {\n            cartId.push(\n                {\n                    id: cartList[i]._id,\n                    amount: cartList[i].count \n                }\n            )\n        }\n\n        const data = {\n            orderName: nameInput,\n            orderAvatar: userAvt,\n            orderEmail: emailInput,\n            orderPhone: phoneInput,\n            orderAddress: addressInput,\n            orderTinh: userTinh,\n            orderHuyen: userHuyen,\n            orderList: cartId,\n            orderTotal: total,\n            orderPaymentMethod: orderPaymentMethod2,\n            orderDate: new Date()\n        }\n        \n        if (orderPaymentMethod2 === \"\") {\n            alert(\"Fill in all infomation please\")\n        } else if (orderPaymentMethod2 === \"zalopay\") {\n            if (isPaid === false) {\n                alert(\"Your payment not yet confirmed!\")\n                return\n            } else {\n                axios.post('http://localhost:4000/order', data)\n                setTimeout(()=>{ \n                    setConfirm(true)\n                    document.body.style.overflow = 'hidden';\n                    window.scrollTo(0,0);\n                    socket.emit('placeAnOrder', data)\n                }, 1000)\n            }\n        } else {\n            axios.post('http://localhost:4000/order', data)\n            setTimeout(()=>{ \n                setConfirm(true)\n                document.body.style.overflow = 'hidden';\n                window.scrollTo(0,0);\n                socket.emit('placeAnOrder', data)\n            }, 1000)\n        }\n        setOrderPaymentMethod(orderPaymentMethod2)\n        let addressStr = addressInput + ', ' + userTinh + ', ' + userHuyen \n        setOrderAddressConfirm(addressStr)\n    }\n\n    return(\n        <div className=\"CheckoutBody\">\n            {\n                confirm &&\n                <div className=\"billing-detail confirmPage\">\n                    <p style={{fontSize: '18px', color: 'green', marginBottom: '30px'}}>Thank you. Your order has been received.</p> \n                    <div className=\"billing-detail-title\">Order details</div>\n                    <div> \n                        <div className=\"billing-detail-list comfirm-list\">\n                            { cartList &&\n                                cartList.map((item, index)=>{\n                                    return (\n                                        <div \n                                            key={index}\n                                            className=\"billing-detail-item\"\n                                        >\n                                            <div\n                                                style={{width: '300px'}}\n                                            >\n                                                <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\n                                            </div>\n                                            <div className=\"billing-detail-mobile\">\n                                                <div className=\"billing-detail-name\">{item.productName}</div>\n                                                <div className=\"billing-detail-count\">\n                                                    <p>x</p>\n                                                    {item.count}\n                                                </div>\n                                                <div className=\"billing-detail-price\">{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                            </div>\n                                        </div>\n                                    )\n                                }) \n                            }\n                            <div className=\"billing-detail-item flex\">\n                                <div className=\"billing-confirm-left\">SUBTOTAL</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    {subTotal &&\n                                        <div className=\"billing-detail-price billing-confirm-right\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                    }\n                                </div>\n                            </div>\n                            <div \n                                className=\"billing-detail-item flex\"\n                                style={{justifyContent: 'space-between'}}\n                            >\n                                <div className=\"billing-confirm-left\">ADDRESS</div><div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price billing-confirm-right orderAddressConfirm\" style={{textTransform: 'capitalize'}}>{orderAddressConfirm} đ</div>\n                                </div>\n                            </div>\n                            <div className=\"billing-detail-item flex\">\n                                <div className=\"billing-confirm-left\">SHIPPING FEE</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price billing-confirm-right\" style={{textTransform: 'capitalize'}}>{shipping} đ</div>\n                                </div>\n                            </div>\n                            <div className=\"billing-detail-item flex\">\n                                <div className=\"billing-confirm-left\">TOTAL</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div> \n                                    <div className=\"billing-detail-price billing-confirm-right\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                </div>\n                            </div> \n                            <div className=\"billing-detail-item flex\">\n                                <div className=\"billing-confirm-left\">PAYMENT METHOD</div>\n                                <div className=\"billing-detail-mobile\">\n                                    <div className=\"billing-detail-name\"></div>\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                    <div className=\"billing-detail-price billing-confirm-right\" style={{textTransform: 'capitalize'}}>{orderPaymentMethod}</div>\n                                </div>\n                            </div>\n                            <div className=\"order-btn btn\" style={{marginTop: '30px', marginBottom: '30px'}} onClick={()=>{\n                                document.body.style.overflow = 'unset';\n                                localStorage.removeItem('total')\n                                localStorage.removeItem('cart') \n                                props.history.push(\"/shop\")\n                                window.location.reload(false);\n                            }}>\n                                CONFIRM\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            } \n            <div className=\"billing-detail\">\n                <div className=\"billing-detail-title\">Billing details</div>\n                <form className=\"billing-detail-form\"> \n                    <table className=\"billing-detail-table\"> \n                        <tbody>\n                            <tr>\n                                <td>Name</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"name\" \n                                        value={nameInput}\n                                        onChange={(event)=>{\n                                            setNameInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Phone number</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"phone\" \n                                        value={phoneInput}\n                                        onChange={(event)=>{\n                                            setPhoneInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Email</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"phone\" \n                                        value={emailInput}\n                                        onChange={(event)=>{\n                                            setEmailInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Province</td>\n                                <td>\n                                    <select \n                                        className=\"input\"\n                                        value={userTinh || ''}\n                                        onChange={(event)=>{\n                                            setProvinceId(event.target.selectedIndex)\n                                            setUserTinh(event.target.value)\n                                        }}\n                                    >\n                                        <option disabled defaultValue>select a province</option>\n                                        {tinh.map((item, index) => {\n                                            return (\n                                                <option \n                                                    key={index}\n                                                    value={item.name}\n                                                >{item.name}</option>\n                                            )\n                                        })}\n                                    </select>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>District</td>\n                                <td>\n                                    <select \n                                        className=\"input\"\n                                        value={userHuyen || ''}\n                                        onChange={(event)=>{\n                                            setUserHuyen(event.target.value)\n                                        }}\n                                    >\n                                        <option disabled defaultValue>select a district</option>\n                                        {huyen.map((item, index) => {\n                                            if (item.tinh_id === provinceId) {\n                                                return (\n                                                    <option\n                                                        key={index}\n                                                        value={item.name}\n                                                        >{item.name}</option>\n                                                )\n                                            }\n                                            return null\n                                        })}\n                                    </select>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td>Address</td>\n                                <td>\n                                    <input \n                                        type=\"text\"\n                                        className=\"input\"\n                                        name=\"address\" \n                                        value={addressInput || ''}\n                                        onChange={(event)=>{\n                                            setAddressInput(event.target.value)\n                                        }}\n                                    ></input>\n                                </td>\n                            </tr>\n                            \n                                \n                        </tbody>\n                    </table>\n                </form>\n            </div> \n            <div className=\"billing-detail\">\n                <div className=\"billing-detail-title\">Your order</div>\n                <div className=\"billing-detail-form\"> \n                    <div className=\"billing-detail-list\">\n                        { cartList &&\n                            cartList.map((item, index)=>{\n                                return (\n                                    <div \n                                        key={index}\n                                        className=\"billing-detail-item\"\n                                    >\n                                        <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\n                                        <div className=\"billing-detail-mobile\">\n                                            <div className=\"billing-detail-name\">{item.productName}</div>\n                                            <div className=\"billing-detail-count\">\n                                                <p>x</p>\n                                                {item.count}\n                                            </div>\n                                            <div className=\"billing-detail-price\">{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                        </div>\n                                    </div>\n                                )\n                            }) \n                        }\n                        <div className=\"billing-detail-item flex\">\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SUBTOTAL</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"billing-detail-name\"></div>\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                { subTotal &&\n                                    <div className=\"billing-detail-price\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                                }\n                            </div>\n                        </div>\n                        <div \n                            className=\"billing-detail-item flex\"\n                            style={{justifyContent: 'space-between'}}\n                        >\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SHIPPING</div>\n                            <div className=\"billing-detail-shipping\">\n                                <select onChange={(event)=>{\n                                    setShipping(event.target.value)\n                                }}>\n                                    <option value=\"0\">FREESHIP - 0đ</option>\n                                    <option value=\"30000\">FAST SHIPPING - 30000đ</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div className=\"billing-detail-item flex\">\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>TOTAL</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"billing-detail-name\"></div>\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\n                                <div className=\"billing-detail-price\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\n                            </div>\n                        </div>\n                        <div className=\"billing-detail-payment\">\n                            <div style={{fontSize: '18px'}}>PAYMENT METHOD</div>\n                            <div className=\"billing-detail-mobile\">\n                                <div className=\"payment-method-list\">\n                                    <div \n                                        id=\"1\"\n                                        className=\"flex payment-method-item\" \n                                        onClick={(event)=>{\n                                            checkedPayMent(event)\n                                            setIsShowQR(false)\n                                        }}>\n                                        <div \n                                            id=\"1\"\n                                            className={methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\"}\n                                            ></div>\n                                            <p\n                                                id=\"1\"\n                                                >CASH ON DELIVERY</p>\n                                        </div>\n                                    <div \n                                        id=\"2\"\n                                        className=\"flex payment-method-item\"\n                                        onClick={(event)=>{\n                                            checkedPayMent(event) \n                                            const description = `Thanh toan don hang #${_id}` \n                                            let order = {\n                                                description: description,\n                                                amount: total\n                                            }  \n                                            ZaloPay.qr(order, res => { \n                                                showQR(res.orderurl); \n                                                const check = setInterval(()=>{  \n                                                    $.getJSON(APIs.GETORDERSTATUS +'?morderid='+ res.apptransid)\n                                                        .done(res => {  \n                                                            if (res.returncode === 1) { \n                                                                setIsPaid(true)\n                                                                clearInterval(check)\n                                                            }\n                                                        }\n                                                    ) \n                                                }, 1000)  \n                                            });  \n                                        }}>\n                                        <div \n                                            id=\"2\"\n                                            className={methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\"} ></div>\n                                        <p\n                                            id=\"2\">\n                                            ZALOPAY\n                                        </p>\n                                    </div> \n                                </div>\n                            </div>\n                        </div>\n                        <div className={isShowQR ? \"qr-box flex-col\" : \"d-none\"}> \n                            <div className=\"qr-code-box flex-center\">\n                                <QRCode value={qrValue}></QRCode> \n                            </div> \n                            { !isPaid &&\n                                <div className=\"qr-status\" style={{color: \"red\"}}>\n                                    Đang chờ thanh toán...\n                                </div>\n                            }\n                            { isPaid &&\n                                <div className=\"qr-status\">\n                                    Thanh toán thành công!\n                                </div>\n                            }\n                            { !isPaid && \n                                <div className=\"qr-help\">\n                                    <div className=\"qr-help-title\">Hướng dẫn thanh toán</div>\n                                    <ul className=\"qr-help-list\">\n                                        <li><span>Bước 1:</span><strong> Mở</strong> ứng dụng <strong>ZaloPay</strong></li>\n                                        <li><span>Bước 2:</span> Chọn <strong>\"Thanh Toán\"</strong> và quét mã QR</li>\n                                        <li><span>Bước 3:</span> <strong> Xác nhận thanh toán</strong> ở trong ứng dụng</li>\n                                    </ul>\n                                </div>\n                            }\n                        </div> \n                        <div className=\"order-btn btn\" onClick={placeAnOrder}>\n                            PLACE AN ORDER\n                        </div>\n                    </div>\n                </div>\n            </div> \n        </div>\n    )\n}\n\nexport default withRouter(CheckoutBody)"]},"metadata":{},"sourceType":"module"}